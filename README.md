# VillagerPro - 村民与村庄管理插件

## 插件介绍
VillagerPro 是一个 Minecraft 服务器插件，专注于村庄和村民的管理与扩展。通过此插件，玩家可以创建、升级村庄，招募特殊村民，并完成自定义任务以获得奖励。

## 功能列表
- **村庄管理**：创建、升级和扩展村庄。
- **村民招募**：招募不同类型的村民（农民、守卫、商人等）。
- **任务系统**：为玩家生成随机任务（采集、击杀、交付等），完成任务后获得奖励。
- **经济系统**：支持金币和经验奖励。
- **事件监听**：自动检测任务进度（如采集物品、击杀怪物）。

## 安装指南
1. 将插件 JAR 文件放入服务器的 `plugins` 文件夹。
2. 重启服务器以加载插件。
3. 插件会自动生成默认配置文件 `config.yml`。

## 配置文档
### `config.yml`
```yaml
# 村庄配置
village:
  max_level: 5  # 村庄最大等级
  upgrade_cost: 1000  # 升级所需金币

# 任务配置
task:
  reward_exp: 50  # 任务奖励经验
  reward_money: 100  # 任务奖励金币
  task_types: ["COLLECT_WHEAT", "KILL_ZOMBIE", "DELIVER_POTION"]  # 可用任务类型
```

## 命令列表
| 命令 | 描述 | 权限 |
|------|------|------|
| `/village create` | 创建村庄 | `villagepro.create` |
| `/village upgrade` | 升级村庄 | `villagepro.upgrade` |
| `/task generate` | 生成随机任务 | `villagepro.task.generate` |

## 权限节点
- `villagepro.create`：允许创建村庄。
- `villagepro.upgrade`：允许升级村庄。
- `villagepro.task.generate`：允许生成任务。

## 任务系统
### 任务类型
1. **采集任务**：如采集 10 个稻草。
2. **击杀任务**：如击杀 5 个僵尸。
3. **交付任务**：如送 3 件药水。
4. **挖掘任务**：挖掘指定数量的矿物或方块。
5. **制造任务**：制作指定数量的物品。
6. **钓鱼任务**：钓鱼指定次数。
7. **附魔任务**：附魔指定数量的物品。
8. **繁殖任务**：繁殖指定数量的动物。
9. **收获任务**：收获指定数量的作物。
10. **探索任务**：探索指定的生物群系。
11. **交易任务**：与村民完成指定次数的交易。
12. **收集任务**：收集指定数量的木材或花朵。
13. **剪毛任务**：剪指定数量的羊。
14. **驯服任务**：驯服指定数量的动物。
15. **酿造任务**：酿造指定数量的药水。

### 任务流程
1. 玩家使用 `/task generate` 生成随机任务。
2. 完成任务目标后，系统自动发放奖励。
3. 奖励包括经验和金币，可在配置文件中自定义。

## 村民招募系统
### 招募流程
1. 玩家寻找未被招募的村民。
2. 玩家使用 `/villager recruit` 命令招募附近的村民。
3. 系统检查玩家是否满足招募条件（资源、村民数量上限等）。
4. 如果满足条件，村民将被标记为玩家所有，并获得基于其职业的技能。

### 村民职业与技能
村民招募后会根据其职业获得相应的技能：
- **农民**：拥有农业和收获技能，可以提高作物产量。
- **渔夫**：拥有钓鱼和水下呼吸技能，可以在水中更好地工作。
- **图书管理员**：拥有附魔和知识技能，可以协助玩家附魔物品。
- **武器匠**：拥有武器锻造和战斗技能，可以提高战斗能力。
- **牧羊人**：拥有动物繁殖和羊毛处理技能，可以协助管理动物。
- **制箭师**：拥有弓箭和箭矢制作技能，可以提高远程攻击能力。
- **祭司**：拥有治疗和药水酿造技能，可以协助治疗和制作药水。
- **盔甲匠**：拥有盔甲锻造和防护技能，可以提高防护能力。
- **工具匠**：拥有工具锻造和挖掘技能，可以提高挖掘效率。
- **皮匠**：拥有食物加工和屠宰技能，可以协助处理食物。
- **制图师**：拥有探索和制图技能，可以帮助玩家探索世界。

### 村民管理
1. 玩家可以与已招募的村民交互来管理他们。
2. 潜行状态下右键点击村民可以切换其跟随模式：
   - 自由活动：村民自由行动
   - 跟随：村民跟随玩家
   - 停留：村民停留在当前位置
3. 村民可以被升级以提高其技能等级。

## 开发者API
插件提供开发者API，支持扩展功能。详情请参考源码文档。